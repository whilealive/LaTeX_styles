% ==================================================================
% FILE     myNotesMP.sty
% MACHINE  all
% INFO     Notes in MetaPost
%
% DATE     28.02.2017
% OWNER    Bischofberger
% ==================================================================

\ProvidesPackage{myNotesMP}

\RequirePackage{luamplib}

\newcommand*{\Notes}[1]{% arg: number of rows
  \BZ[.4]
  \begin{mplibcode}
    beginfig(1)
      pw := 0.4pt;  % approx. default pen width
      lw := \mpdim{\convertto{mm}{\linewidth}} - pw;
      numberOfSquares := floor(lw/4mm);
      sizeOfSquares   := lw/numberOfSquares;
      gray := 0.7;
      % horizontal lines
      for i=0 step sizeOfSquares until #1*sizeOfSquares:
        draw (0,i)--(lw,i) withcolor gray;
      endfor;
      % vertical lines
      for i=0 step sizeOfSquares until lw:
        draw (i,0)--(i,#1*sizeOfSquares) withcolor gray;
      endfor;
    endfig;
  \end{mplibcode}%
}
