% ==================================================================
% FILE     basicMathDocStyle.sty
% MACHINE  all
% INFO     Preamble for my math documents
%
% DATE     19.04.2016
% OWNER    Bischofberger
% ==================================================================

\ProvidesPackage{basicMathDocStyle}

% depends on my basic style
\RequirePackage{basicDocumentStyle}

% math packages
\RequirePackage{mathtools}
\RequirePackage{amssymb}
\RequirePackage{amsthm}
\RequirePackage{bm}

% various math options
\DeclarePairedDelimiter\abs{\lvert}{\rvert}  % mathtools: abs*{...} command
\allowdisplaybreaks

% math theorems
\newtheoremstyle{MyStyle}%
  {\baselineskip}	 % space above
  {\baselineskip}	 % space below
  {}							 % body font
  {}							 % indent amount
  {\bfseries}			 % Theorem head font
  {.}							 % punctuation after theorem head
  {.5em}					 % space after theorem head
  {\thmname{#1}}	 % theorem head spec

\theoremstyle{MyStyle}
\newtheorem{Def}{Definition}
\newtheorem{Bsp}{Beispiel}
\newtheorem{Bem}{Bemerkung}

% drawings
\RequirePackage{tikz}
\RequirePackage{tikzStyle}

% frames
\RequirePackage[framemethod=tikz]{mdframed}


% ----------------------------------------------------------------
% custom commands and environments...
% ----------------------------------------------------------------
% double underline for end results
\newcommand*{\Result}[1]{\underline{\underline{#1}}}

% basic sets
\newcommand*{\N}{\mathbb{N}}
\newcommand*{\Z}{\mathbb{Z}}
\newcommand*{\Q}{\mathbb{Q}}
\newcommand*{\R}{\mathbb{R}}
\newcommand*{\C}{\mathbb{C}}

% "environ"-package für verschachtelte Umgebungen innerhalb neuer Umgebung
\RequirePackage{environ}

% Notizpapier.
% - Berechnet optimale Häuschengrösse (+- 4mm) und Anzahl Häuschen, 
%   um \linewidth aufzufüllen.
% - Argument: Anzahl Reihen (= vertikale Höhe)
\newcommand*{\Notes}[1]{%
  \BZ[.5]%
  \begin{tikzpicture}[scale=1]
    \pgfmathparse{\linewidth - \pgflinewidth}%
    \xdef\myLineWidth{\pgfmathresult}% correct width without line caps
    \pgfmathparse{\myLineWidth / int(\myLineWidth/4mm)}%
    \xdef\sizeOfSquares{\pgfmathresult}% +- 4mm square size
    \draw [line cap=rect, step=\sizeOfSquares pt, gray!50!, thin] 
      (0,0) grid (\myLineWidth pt, {#1 * \sizeOfSquares pt});
  \end{tikzpicture}%
}

% Definiton mit grauem Rand
\NewEnviron{FrameDef}
{
  \begin{mdframed}[nobreak,linecolor=gray!40!,linewidth=2pt,innertopmargin=1pt,innerbottommargin=\topskip]
    \begin{Def}
      \BODY
    \end{Def}
  \end{mdframed}
}

% ----------------------------------------------------------------
% all about Exercises...
\newcounter{excounter}
\renewcommand*{\theexcounter}{\arabic{excounter}}

\newenvironment{AufgLsg}[1]{% adds label for solution -> see LsgAufg
  \refstepcounter{excounter}%
  \label{#1}%
  \noindent\textbf{Aufgabe~\theexcounter$^{\bm{L}}$\enspace}%
}{%
  \par\addvspace{\baselineskip}%
}

\newenvironment{Aufg}[0]{% normal
  \refstepcounter{excounter}%
  \noindent\textbf{Aufgabe~\theexcounter\enspace}%
}{%
  \par\addvspace{\baselineskip}%
}

\newenvironment{Aufg*}[0]{% difficult
  \refstepcounter{excounter}%
  \noindent\textbf{Aufgabe~\theexcounter*\enspace}%
}{%
  \par\addvspace{\baselineskip}%
}

% Lösung einer einzelnen Aufgabe.
\newenvironment{LsgAufg}[1]{%
  \textbf{Aufg. \ref{#1} }%
}{%
  \par\addvspace{.5\baselineskip}%
}
% ----------------------------------------------------------------

