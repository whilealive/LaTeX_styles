% ==================================================================
% FILE     bmzSkriptStyle.sty
% MACHINE  all
% INFO     Preamble für TALS Skript
%          benötigt "basicDocumentStyle" und "basicMathDocStyle"
%
% DATE     05.04.2016
% OWNER    Bischofberger
% ==================================================================

\ProvidesPackage{bmzSkriptStyle}

% do not try to fill pages with content vertically
\raggedbottom

% enumeration of chapters, sections
\setcounter{secnumdepth}{2}
\setcounter{chapter}{-1}

% Put chapter pages automatically on the right side even though it's a oneside document.
% Before a new chapter, put: "\clearpage{\pagestyle{empty}\cleardoublepage}".
\makeatletter
\def\cleardoublepage{\clearpage\ifodd\c@page\else
  \hbox{}\newpage\if@twocolumn\hbox{}\newpage\fi\fi}
\makeatother

% graphics
\graphicspath{{images/}{tikzPreCompile/}}

% header/footer (KOMA-Script)
\renewcommand*{\chaptermarkformat}{}  % no numbers
\automark[section]{chapter}
\lohead[BMS Zürich]{BMS Zürich}
\lehead[BMS Zürich]{BMS Zürich}
\cohead[\leftmark]{\leftmark}
\cehead[\leftmark]{\leftmark}
\rohead[]{\rightmark}
\rehead[]{\rightmark}

% for notes in wide margin -> also see geometry package inclusion
\usepackage{marginnote}

% change globally to ]a,b[ intervalls here...
\usepackage{interval}
\intervalconfig{soft open fences, separator symbol={;}}

% ----------------------------------------------------------------
% custom environments...
% ----------------------------------------------------------------
% Enlarge \textwidth by 30mm, so that it is centered on a4paper
\NewEnviron{FullWidth}
{
  \begin{addmargin*}[0mm]{-30mm}
    \BODY
  \end{addmargin*}
}

% HP Prime environment
\NewEnviron{TR}
{
  \begin{figure}[H]
    \marginnote{\includegraphics[width=12mm]{HP-Prime.png}}[1em]
    \begin{mdframed}[linewidth=0pt, backgroundcolor=gray!40]
      \vspace{-1em}  % remove vertical space added by \marginnote
      \BODY
    \end{mdframed}
  \end{figure}
}

% Calculator keys
\newcommand{\Keys}[1]{\fbox{\tt #1}}

% Logische Mengen
\newcommand{\Logic}[1]{\textsf{\textbf{#1}}}

% Aufgabenliste aus Frommenwiler
\NewEnviron{Frommenwiler}
{
  \vbox{
    \begin{Aufg}
      Lösen Sie die folgenden Aufgaben aus Frommenwiler.\par
      \begin{tabularx}{\textwidth}{Xp{12mm}X}
        \toprule
        Aufgabe & Seite & Bemerkungen\\
        \midrule
        \BODY
        \bottomrule
      \end{tabularx}
    \end{Aufg}
  }
}

% ----------------------------------------------------------------
% hyphenations
% ----------------------------------------------------------------
\hyphenation{Pythagoras}
